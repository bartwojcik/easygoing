{% extends "stem/base.html" %}

{% block title %}{{website.title}} - Main Page{% endblock %}

{% block content %}
{% for post in posts %}
<article>
    <h2>
        <a href="{% url 'post' post.id %}">{{post.title}}</a>
        {% if post.hidden %}
        <small><span class="glyphicon glyphicon-eye-close"></span></small>
        {% endif %}
        {% if post.comments_closed and perms.stem.change_post %}
        <small><span class="glyphicon glyphicon-lock"></span></small>
        {% endif %}
    </h2>
    <small>
        <span class="glyphicon glyphicon-time"></span> {{post.created}}
        <span class="glyphicon glyphicon-comment"></span>
        <a href="{% url 'post' post.id %}#comments">
            {{post.number_of_comments}} Comments
        </a>
    </small>
    <br/>
    <br/>
    <p>
        {{post.content|truncatewords_html:truncate_word_limit}}
    </p>
    <p class="text-right">
        <a href="{% url 'post' post.id %}" class="text-right">
            Continue reading...
        </a>
    </p>
    <hr/>
</article>
{% endfor %}
{% if posts.paginator.num_pages > 1 %}
<ul class="pager">
    {% if posts.has_previous %}
    <li><a href="?page={{ posts.previous_page_number }}">Previous</a></li>
    {% endif %}
    <span class="current">
        Page {{ posts.number }} of {{ posts.paginator.num_pages }}
    </span>
    {% if posts.has_next %}
    <li><a href="?page={{ posts.next_page_number }}">Next</a></li>
    {% endif %}
</ul>
{% endif %}
{% endblock %}